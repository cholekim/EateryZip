<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="menu">
	<insert id="insert" parameterType="menuDto">
		INSERT INTO menu
		(menu_num,b_id,section_num,menu_num_in_section,section_name,menu_name,menu_image,menu_price)
		VALUES(menu_seq.NEXTVAL,#{b_id},#{section_num},#{menu_num_in_section},#{section_name},#{menu_name},#{menu_image},#{menu_price})
	</insert>
	
	<!-- 사업자 번호로 카테고리 개수 얻어오기 -->
	<select id="getSectionCount" parameterType="String" resultType="int">
		SELECT MAX(section_num)
		FROM menu
		WHERE b_id=#{b_id}
	</select>
	
	<!-- 사업자 번호로 메뉴 리스트 얻어오기 -->
	<select id="getList" parameterType="String" resultType="menuDto">
		SELECT *
		FROM menu
		WHERE b_id=#{b_id}
	</select>
	
	<!-- 해당 메뉴 삭제하기 -->
	<delete id="delete_menu" parameterType="int">
		DELETE FROM menu
		WHERE menu_num=#{menu_num}
	</delete>
	
</mapper>