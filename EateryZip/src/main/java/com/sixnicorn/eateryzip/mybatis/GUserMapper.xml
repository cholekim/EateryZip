<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Guser">

	<!-- select의 결과가 없으면 0이 된다.-->
	<select id="getData" parameterType="string" resultType="GuserDto">
	select g_id, g_pwd, g_name, g_address, g_email, g_email2, g_phone, g_profile, to_char(g_regdate,'YYYY-MM-DD'), grade
	from g_user
	where g_id = #{g_id}	
	</select>
	
	<insert id="insert" parameterType="GuserDto">
	insert into g_user
	(g_id, g_pwd, g_name, g_address, g_email, g_email2, g_phone, g_regdate, grade)
	values(#{g_id}, #{g_pwd}, #{g_name}, #{g_address},  #{g_email}, #{g_email2}, #{g_phone}, sysdate, #{grade})
	</insert>
	
	<select id="isExist" parameterType="java.lang.String" resultType="string">
	Select g_id
	from g_user
	where g_id=#{g_id} 
	</select>
		
	<select id="getId" parameterType="GuserDto" resultType="String">
	Select g_id
	from g_user
	where g_name=#{g_name} and g_phone=#{g_phone} 
	</select>
	
	<select id="getPwd" parameterType="GuserDto" resultType="String">
	Select g_pwd
	from g_user
	where g_id=#{g_id} and g_phone=#{g_phone} 
	</select>
	
	<update id="pwdChange" parameterType="GuserDto">
	Update g_user
	Set g_pwd = #{g_newPwd}
	where g_id=#{g_id}
	</update>
	

	<!-- 혜림 -->
	<update id="Gupdate" parameterType="GuserDto">
		UPDATE g_user
		SET g_name=#{g_name},g_address=#{g_address,jdbcType=VARCHAR},g_email=#{g_email,jdbcType=VARCHAR},g_phone=#{g_phone},g_profile=#{g_profile,jdbcType=VARCHAR}
		WHERE g_id = #{g_id }
	</update>



</mapper>